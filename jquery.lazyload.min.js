/*!
 * Lazy Load - jQuery plugin for lazy loading images
 *
 * Copyright (c) 2007-2017 Mika Tuupola
 *
 * Licensed under the MIT license:
 *   http://www.opensource.org/licenses/mit-license.php
 *
 * Project home:
 *   http://www.appelsiini.net/projects/lazyload
 *
 * Version:  1.10.0-dev
 *
 *  Modified for RSC by Nate Chrysler and Will Strootman
 *  
 *  Forked: https://github.com/RightSourceCompliance/jquery_lazyload/tree/1.x
 *  
 */

!function(l,r,t,c){var s=l(r),d={};l.fn.lazyload=function(t){var e,i=this,a=this,f={threshold:0,failure_limit:0,event:"scroll.lazyload",effect:"show",container:"#slotted",data_attribute:"original",data_srcset:"srcset",skip_invisible:!1,appear:null,load:null,placeholder:null,swapImage:function(t,e,o,n){t.is("img")&&(t.attr("src",e),null!==o&&t.attr("srcset",o)),t.is("video")?t.attr("poster",e):t.css({"background-image":"url('"+e+"')","background-position":"0px 0px"})}},o=-1;function n(){var e=0;i.each(function(){var t=l(this);if(!f.skip_invisible||t.is(":visible"))if(l.abovethetop(this,f)||l.leftofbegin(this,f));else if(l.belowthefold(this,f)||l.rightoffold(this,f)){if(++e>f.failure_limit)return!1}else t.trigger("appear"),e=0})}return t&&(c!==t.failurelimit&&(t.failure_limit=t.failurelimit,delete t.failurelimit),c!==t.effectspeed&&(t.effect_speed=t.effectspeed,delete t.effectspeed),l.extend(f,t)),e=f.container===c||f.container===r?s:l(f.container),0===f.event.indexOf("scroll")&&e.off(f.event).on(f.event,function(){0<=o&&clearTimeout(o),o=setTimeout(function(){n()},100)}),this.each(function(){var r=this,n=l(r);r.loaded=!1,n.attr("src")!==c&&!1!==n.attr("src")||n.is("img")&&n.attr("src",f.placeholder);function t(){if(!r.loaded){if(f.appear){var t=i.length;f.appear.call(r,t,f)}l("<img />").one("load",function(){var t=n.attr("data-"+f.data_attribute),e=n.attr("data-"+f.data_srcset);if(t!==n.attr("src")&&(n.hide(),f.swapImage(n,t,e,f),n[f.effect](f.effect_speed)),r.loaded=!0,f.load){var o=i.length;f.load.call(r,o,f)}}).bind("error",function(){l(r).trigger("error")}).attr({src:n.attr("data-"+f.data_attribute),srcset:n.attr("data-"+f.data_srcset)||""})}}n.one("appear",function(){t();var n=a.index(r);setTimeout(function(){for(var t=n,e=Math.min(a.length,n+3);-1<t&&t<e;t++){var o=a[t];l(o).trigger("appear-cascade")}},500)}),n.one("appear-cascade",function(){t()}),0!==f.event.indexOf("scroll")&&n.off(f.event).on(f.event,function(){r.loaded||n.trigger("appear")})}),d[f.container]&&s.off("resize.lazyload",null,d[f.container]),d[f.container]=function(){n()},s.bind("resize.lazyload",d[f.container]),/(?:iphone|ipod|ipad).*os 5/gi.test(navigator.appVersion)&&s.on("pageshow",function(t){t.originalEvent&&t.originalEvent.persisted&&i.each(function(){l(this).trigger("appear")})}),l(function(){n()}),this},l.belowthefold=function(t,e){return(e.container===c||e.container===r?(r.innerHeight?r.innerHeight:s.height())+s.scrollTop():l(e.container).offset().top+l(e.container).height())<=l(t).offset().top-e.threshold},l.rightoffold=function(t,e){return(e.container===c||e.container===r?s.width()+s.scrollLeft():l(e.container).offset().left+l(e.container).width())<=l(t).offset().left-e.threshold},l.abovethetop=function(t,e){return(e.container===c||e.container===r?s.scrollTop():l(e.container).offset().top)>=l(t).offset().top+e.threshold+l(t).height()},l.leftofbegin=function(t,e){return(e.container===c||e.container===r?s.scrollLeft():l(e.container).offset().left)>=l(t).offset().left+e.threshold+l(t).width()},l.inviewport=function(t,e){return!(l.rightoffold(t,e)||l.leftofbegin(t,e)||l.belowthefold(t,e)||l.abovethetop(t,e))},l.extend(l.expr[":"],{"below-the-fold":function(t){return l.belowthefold(t,{threshold:0})},"above-the-top":function(t){return!l.belowthefold(t,{threshold:0})},"right-of-screen":function(t){return l.rightoffold(t,{threshold:0})},"left-of-screen":function(t){return!l.rightoffold(t,{threshold:0})},"in-viewport":function(t){return l.inviewport(t,{threshold:0})},"above-the-fold":function(t){return!l.belowthefold(t,{threshold:0})},"right-of-fold":function(t){return l.rightoffold(t,{threshold:0})},"left-of-fold":function(t){return!l.rightoffold(t,{threshold:0})}})}(jQuery,window,document);